<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Chemical Solutions</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
    :root {
        --bg: #f4f7f6;
        --herbicide: #2e7d32;
        --insecticide: #800020;
        --fungicide: #0077be;
        --regulator: #ff4500;
        --defoliant: #8e44ad;
        --current-color: #00796b;
    }
    body { margin: 0; font-family: -apple-system, sans-serif; background: var(--bg); padding-bottom: 40px; }
    header { background: var(--current-color); color: #fff; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 10; }
    header div { font-size: 18px; font-weight: bold; }
    
    .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 15px; }
    .cat-btn { color: #fff; border-radius: 15px; padding: 25px 10px; text-align: center; cursor: pointer; font-weight: bold; font-size: 13px; text-transform: uppercase; box-shadow: 0 4px 8px rgba(0,0,0,0.15); border:none; }
    
    .bg-her { background: var(--herbicide); }
    .bg-ins { background: var(--insecticide); }
    .bg-fun { background: var(--fungicide); }
    .bg-reg { background: var(--regulator); }
    .bg-def { background: var(--defoliant); }

    .item-card { background: #fff; padding: 18px 10px; border-radius: 12px; text-align: center; font-weight: bold; color: var(--current-color); border: 2px solid var(--current-color); font-size: 13px; display: flex; align-items: center; justify-content: center; min-height: 50px; }
    .prod-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }

    .contact-card { background: #fff; margin: 0 15px 12px; padding: 15px; border-radius: 12px; border-left: 5px solid #00796b; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    .region-name { font-weight: bold; color: #00796b; display: block; margin-bottom: 8px; font-size: 14px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
    
    .info-text { background: #fff; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 6px solid var(--current-color); line-height: 1.6; font-size: 14px; white-space: pre-line; color: #333; }
    
    .call-btn { background: #00796b; color: #fff; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 13px; text-align:center; }
    .nav-btn { background: #333; color: #fff; padding: 16px; text-align: center; border-radius: 12px; margin: 15px; cursor: pointer; font-weight: bold; }
    
    img { width: 100%; display: block; }
    .product-img { max-width: 75%; margin: 0 auto; padding: 10px; object-fit: contain; }
    .card { background: #fff; border-radius: 15px; margin-bottom: 15px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #eee; }
    .card h3 { margin: 0; padding: 12px; background: #f8f9fa; color: var(--current-color); text-align: center; font-size: 14px; }

    #zoom-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; justify-content: center; align-items: center; }
    #zoom-overlay img { max-width: 95%; max-height: 90%; object-fit: contain; }
</style>
</head>
<body>

<header id="header">
    <div id="header-title">CHEMICAL SOLUTIONS</div>
    <small>–Æ“õ–æ—Ä–∏ —Å–∏—Ñ–∞—Ç –≤–∞ —Å–∞–º–∞—Ä–∞–¥–æ—Ä–ª–∏–∫</small>
</header>

<div id="app"></div>

<div id="zoom-overlay" onclick="this.style.display='none'">
    <img id="zoomed-img" src="">
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const COLORS = {
    main: "#00796b",
    herbicides: "#2e7d32",
    insecticides: "#800020",
    fungicides: "#0077be",
    regulators: "#ff4500",
    defoliants: "#8e44ad"
};

const DATA = {
    insecticides: { title: "–ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†", path: "insecticides", items: [
        { id: "akara_max", name: "AKARA MAX¬Æ", text: "Propargit 600 g/L + Geksitiazoks 60 g/l" },
        { id: "komfidor_profi", name: "KOMFIDOR PROFI¬Æ", text: "Imidacloprid 200 g/l" },
        { id: "mospi_chem", name: "MOSPI CHEM¬Æ", text: "Acetamiprid 200 g/kg" },
        { id: "mospi_max", name: "MOSPI MAX¬Æ", text: "Acetamiprid 150 g/kg + Flonicamid 200 g/kg" },
        { id: "pirido_chem", name: "PIRIDO CHEM¬Æ", text: "Piridaben 200 g/kg" },
        { id: "tepek_chem", name: "TEPEK CHEM¬Æ", text: "Flonicamid 500 g/kg" },
        { id: "ucefat", name: "UCEFAT¬Æ", text: "Acephate 750 g/kg" },
        { id: "udonis", name: "UDONIS¬Æ", text: "Fipronil 50 g/l" },
        { id: "ukarat_forte", name: "UKARAT FORTE¬Æ", text: "Lambda-cyhalothrin 50 g/L" },
        { id: "ukleym", name: "UKLEYM¬Æ", text: "Polymer compounds" },
        { id: "upolit", name: "UPOLIT¬Æ", text: "Profenofos 650 g/l + Cypermethrin 100 g/l" },
        { id: "uprokleym_fit", name: "UPROKLEYM FIT¬Æ", text: "Polymer compounds" },
        { id: "uspilan", name: "USPILAN¬Æ", text: "Acetamiprid 200 g/kg" },
        { id: "utastar", name: "UTASTAR¬Æ", text: "Bifenthrin 100 g/l" },
        { id: "uvertim_plus", name: "UVERTIM PLUS¬Æ", text: "Abamektin 60 g/l + Spirodiclofen 120 g/l" },
        { id: "yvertim", name: "YVERTIM¬Æ", text: "Abamektin 18 g/l" }
    ]},
    herbicides: { title: "–ì–ï–†–ë–ò–¶–ò–î–õ–ê–†", path: "herbicides", items: [
        { id: "grans_max", name: "GRANS MAX¬Æ", text: "Tribenuron metil 600 g/kg + Florasulam 200 g/kg" },
        { id: "indazil_chem", name: "INDAZIL CHEM¬Æ", text: "Indaziflam 500 g/l" },
        { id: "lancelo_chem", name: "LANCELO CHEM¬Æ", text: "Florasulam 150 g/kg + Aminopiralid 300 g/kg" },
        { id: "laudi_chem", name: "LAUDI CHEM¬Æ", text: "Tembotrion 200 g/kg + Izoksadifen etil 100 g/kg" },
        { id: "pivochem", name: "PIVOCHEM¬Æ", text: "Imazetapir 240 g/l" },
        { id: "suli_chem", name: "SULI CHEM¬Æ", text: "Flukarbazon natriy 700 g/kg" },
        { id: "uzellek", name: "UZELLEK¬Æ", text: "Haloxyfop-R-methyl 104 g/l" },
        { id: "ugezart", name: "UGEZART¬Æ", text: "Promethrin 500 g/l" },
        { id: "yastar", name: "YASTAR¬Æ", text: "Pendimethalin 330 g/l" },
        { id: "ugotril", name: "UGOTRIL¬Æ", text: "Oxyfluorfen 240 g/l" },
        { id: "uklin", name: "UKLIN¬Æ", text: "Penoxsulam 35 g/l" },
        { id: "utopsho_plus", name: "UTOPSHO PLUS¬Æ", text: "Cyhalofop-butyl 125 g/l" },
        { id: "tufon_super", name: "TUFON SUPER¬Æ", text: "Glyphosate 75,7%" },
        { id: "bazagran_mspa", name: "BAZAGRAN MSPA¬Æ", text: "Bentazone 400 g/l + MSPA 60 g/l" },
        { id: "glyphosate_50", name: "Glyphosate¬Æ 50%", text: "Glyphosate 500 g/l" },
        { id: "renbou", name: "RENBOU¬Æ", text: "Penoxsulam 30 g/l" }
    ]},
    fungicides: { title: "–§–£–ù–ì–ò–¶–ò–î–õ–ê–†", path: "fungicides", items: [
        { id: "fosetil_chem", name: "FOSETIL CHEM¬Æ", text: "Fosetyl aluminium 800 g/kg" },
        { id: "panchem", name: "PANCHEM¬Æ", text: "Flusilazole 400 g/l" },
        { id: "swichem", name: "SWICHEM¬Æ", text: "Cyprodinil + Fludioxonil" },
        { id: "udomil", name: "UDOMIL¬Æ", text: "Mancozeb + Mefenoxam" },
        { id: "ukvadrio", name: "UKVADRIO¬Æ", text: "Azoxystrobin 250 g/l" },
        { id: "upaz", name: "UPAZ¬Æ", text: "Penconazole 100 g/l" },
        { id: "uskor", name: "USKOR¬Æ", text: "Difenoconazole 250 g/l" },
        { id: "ustrobi", name: "USTROBI¬Æ", text: "Kresoxim-methyl 500 g/kg" },
        { id: "xom_chem", name: "XOM CHEM¬Æ", text: "Copper oxychloride 850 g/kg" }
    ]},
    regulators: { title: "–†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†", path: "regulators", items: [
        { id: "benefit_pz", name: "BENEFIT PZ¬Æ", text: "–ú–µ–≤–∞–ª–∞—Ä “≥–æ—Å–∏–ª–∏–Ω–∏ –π–∏—Ä–∏–∫–ª–∞—à—Ç–∏—Ä–∞–¥–∏" },
        { id: "boroplus", name: "BOROPLUS¬Æ", text: "–ë–æ—Ä (B) –º–æ–¥–¥–∞—Å–∏" },
        { id: "brexil_line", name: "BREXIL LINE¬Æ", text: "–ú–µ–∑–æ –≤–∞ –º–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç–ª–∞—Ä" },
        { id: "calbit_c", name: "CALBIT C¬Æ", text: "–ö–∞–ª—å—Ü–∏–π –æ–∑—É“õ–∞—Å–∏" },
        { id: "control_dmp", name: "CONTROL DMP¬Æ", text: "pH –Ω–∏ –º—É–≤–æ–∑–∞–Ω–∞—Ç–ª–æ–≤—á–∏" },
        { id: "master", name: "MASTER¬Æ", text: "NPK + –º–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç–ª–∞—Ä" },
        { id: "viva", name: "VIVA¬Æ", text: "–ò–ª–¥–∏–∑ —Ä–∏–≤–æ–∂–ª–∞–Ω—Ç–∏—Ä—É–≤—á–∏" },
        { id: "yield_on", name: "YIELD ON¬Æ", text: "“≤–æ—Å–∏–ª–¥–æ—Ä–ª–∏–∫–Ω–∏ –æ—à–∏—Ä–∏—à" },
        { id: "radifarm", name: "RADIFARM¬Æ", text: "–ò–ª–¥–∏–∑ —Ç–∏–∑–∏–º–∏–Ω–∏ –∫—É—á–∞–π—Ç–∏—Ä—É–≤—á–∏" },
        { id: "sweet", name: "SWEET¬Æ", text: "–°–∏—Ñ–∞—Ç–ª–∏ –µ—Ç–∏–ª–∏—à" },
        { id: "megafol", name: "MEGAFOL¬Æ", text: "–ê–Ω—Ç–∏—Å—Ç—Ä–µ—Å—Å" },
        { id: "plantafol", name: "PLANTAFOL¬Æ", text: "–ö–æ–º–ø–ª–µ–∫—Å –æ–∑—É“õ–∞" },
        { id: "mc_extra", name: "MC EXTRA¬Æ", text: "–é—Å–∏—à–Ω–∏ —Ñ–∞–æ–ª–ª–∞—à—Ç–∏—Ä—É–≤—á–∏" },
        { id: "mc_set", name: "MC SET¬Æ", text: "–ì—É–ª–ª–∞—à –≤–∞ —á–∞–Ω–≥–ª–∞–Ω–∏—à" },
        { id: "mc_cream", name: "MC CREAM¬Æ", text: "–§–∏–∑–∏–æ–ª–æ–≥–∏–∫ —Ñ–∞–æ–ª–ª–∏–∫" }
    ]},
    defoliants: { title: "–î–ï–§–û–õ–ò–ê–ù–¢", path: "defoliants", items: [
        { id: "udropp", name: "UDROPP¬Æ", text: "Thidiazuron 360 g/l + Diuron 180 g/l" }
    ]}
};

const CONTACTS = [
    { region: "–ë–æ—à –∞–≥—Ä–æ–Ω–æ–º", people: [{ name: "–†–∞–≤—à–∞–Ω–±–µ–∫ –ö–∞—Ä–∏–º–æ–≤", tel: "+998773017080" }] },
    { region: "–¢–æ—à–∫–µ–Ω—Ç –≤–∏–ª–æ—è—Ç–∏", people: [{ name: "–î–∂—É—Ä–∞–µ–≤ –ë–µ–∫–∑–æ–¥", tel: "+998773017060" }] },
    { region: "–í–æ–¥–∏–π –≤–∏–ª–æ—è—Ç–ª–∞—Ä–∏", people: [{ name: "–£—Å–≤–∞–ª–∏–µ–≤ –û–π–±–µ–∫", tel: "+998773017030" }] }
];

function setAppColor(color) {
    document.documentElement.style.setProperty('--current-color', color);
}

function makeCall(name, phone) {
    const cleanPhone = phone.replace(/[^\d+]/g, '');
    const storage = document.createElement('textarea');
    storage.value = cleanPhone;
    document.body.appendChild(storage);
    storage.select();
    document.execCommand('copy');
    document.body.removeChild(storage);

    tg.showAlert("üë§ " + name + "\nüìû " + phone + "\n\n–†–∞“õ–∞–º –Ω—É—Å—Ö–∞–ª–∞–Ω–¥–∏! –≠–Ω–¥–∏ —É–Ω–∏ —Ç–µ–ª–µ—Ñ–æ–Ω “õ–∏–ª–∏—à –∂–æ–π–∏–≥–∞ '–í—Å—Ç–∞–≤–∏—Ç—å' “õ–∏–ª–∏—à–∏–Ω–≥–∏–∑ –º—É–º–∫–∏–Ω.");
    tg.openLink("tel:" + cleanPhone);
}

function openZoom(src) {
    document.getElementById('zoomed-img').src = src;
    document.getElementById('zoom-overlay').style.display = 'flex';
}

function showHome() {
    setAppColor(COLORS.main);
    let html = `
        <div class="main-menu">
            <div class="cat-btn bg-her" onclick="showList('herbicides')">üåø –ì–ï–†–ë–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-ins" onclick="showList('insecticides')">üêú –ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-fun" onclick="showList('fungicides')">üçÑ –§–£–ù–ì–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-reg" onclick="showList('regulators')">üß™ –†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†</div>
            <div class="cat-btn bg-def" onclick="showList('defoliants')" style="grid-column: span 2;">üçÇ –î–ï–§–û–õ–ò–ê–ù–¢–õ–ê–†</div>
        </div>
        <div style="padding:15px; font-weight:bold; color:#444;">üìû –ê–õ–û“ö–ê –í–ê –ú–ê–°–õ–ê“≤–ê–¢:</div>
    `;
    CONTACTS.forEach(c => {
        html += `<div class="contact-card">
            <span class="region-name">${c.region}</span>
            ${c.people.map(p => `
                <div style="display:flex; justify-content:space-between; align-items:center; margin-top:8px;">
                    <span style="font-size:13px; color:#555;">${p.name}</span>
                    <div class="call-btn" onclick="makeCall('${p.name}', '${p.tel}')">“ö—û–Ω“ì–∏—Ä–æ“õ</div>
                </div>
            `).join('')}
        </div>`;
    });
    document.getElementById('app').innerHTML = html;
}

function showList(key) {
    const cat = DATA[key];
    setAppColor(COLORS[key]);
    let html = `<div class="inner-page">
        <div style="text-align:center; padding:12px; font-weight:bold; color:white; background:rgba(0,0,0,0.15);">${cat.title}</div>
        <div class="prod-grid">`;
    cat.items.forEach(item => {
        html += `<div class="item-card" onclick="showDetail('${key}', '${item.id}')">${item.name}</div>`;
    });
    html += `</div><div class="nav-btn" onclick="showHome()">‚¨Ö –ë–û–® –ú–ï–ù–Æ–ì–ê</div></div>`;
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

function showDetail(key, id) {
    const item = DATA[key].items.find(i => i.id === id);
    const imgPath1 = `images/${DATA[key].path}/${id}/product.png`;
    const imgPath2 = `images/${DATA[key].path}/${id}/pest.jpg`;
    
    let html = `
        <div class="details" style="padding:10px;">
            <div class="card">
                <h3>üì¶ –ü–†–ï–ü–ê–†–ê–¢ –ö–é–†–ò–ù–ò–®–ò</h3>
                <img src="${imgPath1}" class="product-img" onerror="this.src='images/no-image.png'">
            </div>
            <div class="info-text">${item.text}</div>
            <div class="card" onclick="openZoom('${imgPath2}')">
                <h3>üîç –ë–ê–¢–ê–§–°–ò–õ (–ë–û–°–ò–ù–ì)</h3>
                <img src="${imgPath2}" onerror="this.src='images/no-image.png'">
            </div>
            <div class="nav-btn" onclick="showList('${key}')">‚¨Ö –†–é–ô–•–ê–¢–ì–ê “ö–ê–ô–¢–ò–®</div>
        </div>
    `;
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

showHome();
</script>
</body>
</html>
