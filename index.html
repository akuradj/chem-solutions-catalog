<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chemical Solutions</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --main: #00796b; --bg: #f0f2f5; }
        body { margin: 0; font-family: -apple-system, sans-serif; background: var(--bg); color: #333; -webkit-tap-highlight-color: transparent; }
        header { background: var(--main); color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        header h1 { margin: 0; font-size: 18px; }

        /* –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é */
        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .cat-btn { background: var(--main); color: white; border-radius: 12px; padding: 20px 5px; text-align: center; cursor: pointer; font-weight: bold; font-size: 12px; border: none; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        
        /* –ö–æ–Ω—Ç–∞–∫—Ç—ã */
        .contact-card { background: white; margin: 10px 15px; padding: 15px; border-radius: 12px; border-left: 5px solid var(--main); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .call-btn { background: #2e7d32; color: white !important; padding: 8px 16px; border-radius: 8px; text-decoration: none; font-size: 13px; font-weight: bold; cursor: pointer; }

        /* –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ */
        .prod-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .item-card { background: white; padding: 15px 10px; border-radius: 10px; text-align: center; font-weight: bold; color: var(--main); border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; min-height: 50px; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
        .card { background: white; margin: 15px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .card h3 { margin: 0; padding: 12px; background: #f8f9fa; font-size: 14px; text-align: center; border-bottom: 1px solid #eee; color: var(--main); }
        .info { padding: 15px; line-height: 1.6; white-space: pre-line; font-size: 14px; }
        
        /* –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ */
        .nav-btn { background: #333; color: white; padding: 16px; text-align: center; border-radius: 12px; margin: 15px; cursor: pointer; font-weight: bold; }

        /* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –∑—É–º */
        #zoom-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; justify-content: center; align-items: center; }
        #zoom-overlay img { max-width: 95%; max-height: 90%; object-fit: contain; }
        img { width: 100%; display: block; }
    </style>
</head>
<body>

<header><h1>CHEMICAL SOLUTIONS</h1></header>
<div id="app"></div>

<div id="zoom-overlay" onclick="this.style.display='none'">
    <div style="position:absolute; top:20px; right:20px; color:white; font-size:30px;">&times;</div>
    <img id="zoomed-img" src="">
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// –§–£–ù–ö–¶–ò–Ø –ó–í–û–ù–ö–ê –° –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï–ú
function makeCall(phone) {
    const num = phone.replace(/[^\d+]/g, '');

    if (window.Telegram && Telegram.WebApp && Telegram.WebApp.openLink) {
        Telegram.WebApp.openLink("tel:" + num);
    } else {
        window.location.href = "tel:" + num;
    }
}

// –î–ê–ù–ù–´–ï (DATA)
const DATA = {
    insecticides: { title: "–ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†", path: "insecticides", items: [
        { id: "akara_max", name: "AKARA MAX¬Æ", text: "Propargit 600 g/L + Geksitiazoks 60 g/l\n–ó–∞—Ä–∞—Ä–ª–∏ –∫–∞–Ω–∞–ª–∞—Ä–≥–∞ “õ–∞—Ä—à–∏ —é“õ–æ—Ä–∏ —Å–∞–º–∞—Ä–∞–ª–∏ –∞–∫–∞—Ä–∏—Ü–∏–¥." }
    ]},
    herbicides: { title: "–ì–ï–†–ë–ò–¶–ò–î–õ–ê–†", path: "herbicides", items: [] },
    fungicides: { title: "–§–£–ù–ì–ò–¶–ò–î–õ–ê–†", path: "fungicides", items: [] },
    regulators: { title: "–†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†", path: "regulators", items: [] },
    defoliants: { title: "–î–ï–§–û–õ–ò–ê–ù–¢", path: "defoliants", items: [] }
};

const CONTACTS = [
    { r: "–ë–æ—à –∞–≥—Ä–æ–Ω–æ–º", n: "–†–∞–≤—à–∞–Ω–±–µ–∫ –ö–∞—Ä–∏–º–æ–≤", t: "+998773017080" },
    { r: "–¢–æ—à–∫–µ–Ω—Ç –≤–∏–ª–æ—è—Ç–∏", n: "–î–∂—É—Ä–∞–µ–≤ –ë–µ–∫–∑–æ–¥", t: "+998773017060" }
];

// –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù
function showHome() {
    let html = `<div class="main-menu">
        <div class="cat-btn" onclick="showList('herbicides')">üåø –ì–ï–†–ë–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn" onclick="showList('insecticides')">üêú –ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn" onclick="showList('fungicides')">üçÑ –§–£–ù–ì–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn" onclick="showList('regulators')">üß™ –†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†</div>
        <div class="cat-btn" style="grid-column: span 2;" onclick="showList('defoliants')">üçÇ –î–ï–§–û–õ–ò–ê–ù–¢–õ–ê–†</div>
    </div>`;
    
    CONTACTS.forEach(c => {
        html += `<div class="contact-card">
            <div style="font-weight:bold; color:var(--main); margin-bottom:5px; font-size:14px;">${c.r}</div>
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <span style="font-size:13px;">${c.n}</span>
                <a class="call-btn" href="tel:${c.t}">“ö—û–Ω“ì–∏—Ä–æ“õ</a>
            </div>
        </div>`;
    });
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

// –°–ü–ò–°–û–ö –¢–û–í–ê–†–û–í
function showList(key) {
    const cat = DATA[key];
    let html = `<h3 style="text-align:center; color:var(--main);">${cat.title}</h3><div class="prod-grid">`;
    if(cat.items.length === 0) html += `<p style="grid-column:span 2; text-align:center; color:#999; padding:20px;">–¢–µ–∑ –æ—Ä–∞–¥–∞...</p>`;
    cat.items.forEach(i => {
        html += `<div class="item-card" onclick="showDetail('${key}','${i.id}')">${i.name}</div>`;
    });
    html += `</div><div class="nav-btn" onclick="showHome()">‚¨Ö –û–†“ö–ê–ì–ê</div>`;
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

// –î–ï–¢–ê–õ–ò –¢–û–í–ê–†–ê
function showDetail(key, id) {
    const item = DATA[key].items.find(i => i.id === id);
    const img1 = `images/${DATA[key].path}/${id}/product.png`;
    const img2 = `images/${DATA[key].path}/${id}/pest.jpg`;
    
    document.getElementById('app').innerHTML = `
        <div class="card">
            <h3>üì¶ –ü–†–ï–ü–ê–†–ê–¢ –ö–é–†–ò–ù–ò–®–ò</h3>
            <img src="${img1}" onerror="this.src='images/no-image.png'">
        </div>
        <div class="info"><b>${item.name}</b>\n\n${item.text}</div>
        <div class="card" onclick="document.getElementById('zoomed-img').src='${img2}'; document.getElementById('zoom-overlay').style.display='flex'">
            <h3>üîç –ë–ê–¢–ê–§–°–ò–õ (–†–ê–°–ú–ù–ò –ë–û–°–ò–ù–ì)</h3>
            <img src="${img2}" onerror="this.src='images/no-image.png'">
        </div>
        <div class="nav-btn" onclick="showList('${key}')">‚¨Ö –†–é–ô–•–ê–¢–ì–ê “ö–ê–ô–¢–ò–®</div>
    `;
    window.scrollTo(0,0);
}

showHome();
</script>
</body>
</html>
