 <!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chemical Solutions</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg: #f0f2f5; --main: #00796b; }
        body { margin: 0; font-family: -apple-system, sans-serif; background: var(--bg); user-select: none; -webkit-tap-highlight-color: transparent; }
        header { background: var(--main); color: #fff; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 100; }
        header h1 { margin: 0; font-size: 18px; text-transform: uppercase; }

        /* –ú–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .cat-btn { color: #fff; border-radius: 12px; padding: 22px 10px; text-align: center; cursor: pointer; font-weight: bold; font-size: 11px; text-transform: uppercase; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .bg-her { background: #2e7d32; } .bg-ins { background: #800020; } .bg-fun { background: #0077be; } .bg-reg { background: #ff4500; } .bg-def { background: #8e44ad; }

        /* –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ */
        .prod-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        .item-card { background: #fff; padding: 15px 5px; border-radius: 10px; text-align: center; font-weight: bold; border: 1px solid #ddd; font-size: 12px; min-height: 45px; display: flex; align-items: center; justify-content: center; color: var(--main); }

        /* –°–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ */
        .contact-card { background: #fff; margin: 0 15px 10px; padding: 12px; border-radius: 10px; border-left: 5px solid var(--main); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .region-name { font-weight: bold; color: var(--main); font-size: 13px; display: block; margin-bottom: 6px; }
        .call-btn { background: var(--main); color: #fff !important; padding: 7px 14px; border-radius: 6px; font-size: 12px; font-weight: bold; cursor: pointer; text-align: center; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
        .card { background: #fff; border-radius: 15px; margin: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .card h3 { margin: 0; padding: 10px; background: #f8f9fa; font-size: 13px; text-align: center; color: var(--main); }
        .info-box { padding: 15px; font-size: 14px; line-height: 1.6; white-space: pre-line; color: #444; }
        img { width: 100%; display: block; height: auto; }

        /* –ó—É–º (Overlay) */
        #zoom-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; justify-content: center; align-items: center; }
        #zoom-overlay img { max-width: 100%; max-height: 100%; object-fit: contain; }
        
        .nav-btn { background: #333; color: #fff; padding: 16px; text-align: center; border-radius: 12px; margin: 15px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<header><h1>CHEMICAL SOLUTIONS</h1></header>

<div id="app"></div>

<div id="zoom-overlay" onclick="this.style.display='none'">
    <img id="zoomed-img" src="">
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// –§–£–ù–ö–¶–ò–Ø –ó–í–û–ù–ö–ê (–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ API Telegram)
unction makeCall(phone) {
    const cleanPhone = phone.replace(/[^\d+]/g, ''); 
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ Telegram –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    tg.showConfirm("“ö—û–Ω“ì–∏—Ä–æ“õ “õ–∏–ª–º–æ“õ—á–∏–º–∏—Å–∏–∑: " + phone + "?", function(ok) {
        if (ok) {
            // –ï—Å–ª–∏ –Ω–∞–∂–∞–ª "–û–ö", –≤—ã–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
            tg.openLink("tel:" + cleanPhone);
        }
    });
}

// –§–£–ù–ö–¶–ò–Ø –ó–£–ú–ê
function openZoom(src) {
    document.getElementById('zoomed-img').src = src;
    document.getElementById('zoom-overlay').style.display = 'flex';
}

// --- –¢–í–û–ò –î–ê–ù–ù–´–ï (DATA) ---
const DATA = {
    insecticides: { 
        title: "–ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†", 
        path: "insecticides", 
        items: [
            { id: "akara_max", name: "AKARA MAX¬Æ", text: "Propargit 600 g/L + Geksitiazoks 60 g/l" },
            // –°—é–¥–∞ –¥–æ–±–∞–≤–ª—è–π –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
        ] 
    },
    herbicides: { title: "–ì–ï–†–ë–ò–¶–ò–î–õ–ê–†", path: "herbicides", items: [] },
    fungicides: { title: "–§–£–ù–ì–ò–¶–ò–î–õ–ê–†", path: "fungicides", items: [] },
    regulators: { title: "–†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†", path: "regulators", items: [] },
    defoliants: { title: "–î–ï–§–û–õ–ò–ê–ù–¢", path: "defoliants", items: [] }
};

const CONTACTS = [
    { r: "–ë–æ—à –∞–≥—Ä–æ–Ω–æ–º", p: [{ n: "–†–∞–≤—à–∞–Ω–±–µ–∫ –ö–∞—Ä–∏–º–æ–≤", t: "+998773017080" }] },
    { r: "–¢–æ—à–∫–µ–Ω—Ç –≤–∏–ª–æ—è—Ç–∏", p: [{ n: "–î–∂—É—Ä–∞–µ–≤ –ë–µ–∫–∑–æ–¥", t: "+998773017060" }] }
];

function showHome() {
    let html = `<div class="main-menu">
        <div class="cat-btn bg-her" onclick="showList('herbicides')">üåø –ì–ï–†–ë–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn bg-ins" onclick="showList('insecticides')">üêú –ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn bg-fun" onclick="showList('fungicides')">üçÑ –§–£–ù–ì–ò–¶–ò–î–õ–ê–†</div>
        <div class="cat-btn bg-reg" onclick="showList('regulators')">üß™ –†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†</div>
        <div class="cat-btn bg-def" onclick="showList('defoliants')" style="grid-column: span 2;">üçÇ –î–ï–§–û–õ–ò–ê–ù–¢–õ–ê–†</div>
    </div>`;
    
    CONTACTS.forEach(c => {
        html += `<div class="contact-card">
            <span class="region-name">${c.r}</span>
            ${c.p.map(person => `
                <div style="display:flex; justify-content:space-between; align-items:center; margin-top:8px;">
                    <span style="font-size:12px;">${person.n}</span>
                    <div class="call-btn" onclick="makeCall('${person.t}')">“ö—û–Ω“ì–∏—Ä–æ“õ</div>
                </div>
            `).join('')}
        </div>`;
    });
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

function showList(key) {
    const cat = DATA[key];
    let html = `<div style="padding:15px; font-weight:bold; text-align:center; color:var(--main);">${cat.title}</div>
    <div class="prod-grid">`;
    cat.items.forEach(item => {
        html += `<div class="item-card" onclick="showDetail('${key}', '${item.id}')">${item.name}</div>`;
    });
    html += `</div><div class="nav-btn" onclick="showHome()">‚¨Ö –ë–û–® –ú–ï–ù–Æ</div>`;
    document.getElementById('app').innerHTML = html;
    window.scrollTo(0,0);
}

function showDetail(key, id) {
    const item = DATA[key].items.find(i => i.id === id);
    const prodImg = `images/${DATA[key].path}/${id}/product.png`;
    const pestImg = `images/${DATA[key].path}/${id}/pest.jpg`;
    
    document.getElementById('app').innerHTML = `
        <div class="card">
            <h3>üì¶ –ü–†–ï–ü–ê–†–ê–¢ –ö–é–†–ò–ù–ò–®–ò</h3>
            <img src="${prodImg}" onerror="this.src='images/no-image.png'">
        </div>
        <div class="info-box"><b>${item.name}</b>\n\n${item.text}</div>
        <div class="card" onclick="openZoom('${pestImg}')">
            <h3>üîç –ë–ê–¢–ê–§–°–ò–õ (–ë–û–°–ò–ù–ì)</h3>
            <img src="${pestImg}" onerror="this.src='images/no-image.png'">
        </div>
        <div class="nav-btn" onclick="showList('${key}')">‚¨Ö –û–†“ö–ê–ì–ê</div>
    `;
    window.scrollTo(0,0);
}

showHome();
</script>
</body>
</html>
