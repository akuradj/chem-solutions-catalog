<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Chemical Solutions Pro</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
    :root {
        --bg: #f4f7f6;
        --herbicide: #2e7d32; /* –Ø—à–∏–ª */
        --insecticide: #800020; /* –¢—û“õ “õ–∏–∑–∏–ª */
        --fungicide: #0077be; /* –ú–æ–≤–∏–π */
        --regulator: #ff4500; /* –û–ª–æ–≤—Ä–∞–Ω–≥ */
        --defoliant: #8e44ad; /* –°–∏—è“≥—Ä–∞–Ω–≥ */
        --current-color: #00796b;
    }
    body { margin: 0; font-family: sans-serif; background: var(--bg); transition: background 0.3s; }
    
    /* –®–∞–ø–∫–∞ —Ä–∞–Ω–≥–∏ “≥–∞–º —û–∑–≥–∞—Ä–∞–¥–∏ */
    header { background: var(--current-color); color: #fff; padding: 20px; text-align: center; border-bottom: 4px solid rgba(255,255,255,0.2); position: sticky; top: 0; z-index: 10; transition: background 0.3s; }
    
    .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 15px; }
    .cat-btn { color: #fff; border-radius: 15px; padding: 25px 10px; text-align: center; cursor: pointer; font-weight: bold; font-size: 13px; text-transform: uppercase; box-shadow: 0 4px 8px rgba(0,0,0,0.15); transition: transform 0.2s; }
    .cat-btn:active { transform: scale(0.95); }
    
    .bg-her { background: var(--herbicide); }
    .bg-ins { background: var(--insecticide); }
    .bg-fun { background: var(--fungicide); }
    .bg-reg { background: var(--regulator); }
    .bg-def { background: var(--defoliant); }

    /* –ò—á–∫–∏ —Ñ–æ–Ω —É—á—É–Ω –º–∞—Ö—Å—É—Å –∫–ª–∞—Å—Å */
    .inner-page { min-height: 100vh; padding-bottom: 20px; }

    .prod-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
    .item-card { background: #fff; padding: 18px 10px; border-radius: 12px; text-align: center; font-weight: bold; color: var(--current-color); border: 2px solid var(--current-color); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

    .details { padding: 15px; }
    .card { background: #fff; border-radius: 15px; margin-bottom: 15px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #eee; }
    .card h3 { margin: 0; padding: 12px; background: #f8f9fa; color: var(--current-color); text-align: center; font-size: 14px; border-bottom: 1px solid #eee; }
    
    .info-text { background: #fff; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 6px solid var(--current-color); line-height: 1.6; font-size: 14px; white-space: pre-line; }
    
    .contact-card { background: #fff; margin: 0 15px 12px; padding: 15px; border-radius: 12px; border-left: 5px solid #00796b; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    .region-name { font-weight: bold; color: #00796b; display: block; margin-bottom: 8px; font-size: 14px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
    .call-btn { display: inline-block; background: #e1f5fe; color: #0077be; padding: 6px 12px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 13px; }

    .nav-btn { background: #333; color: #fff; padding: 16px; text-align: center; border-radius: 12px; margin: 15px; cursor: pointer; font-weight: bold; }
    img { width: 100%; display: block; }
    .product-img { max-width: 70%; margin: 0 auto; padding: 10px; }
</style>
</head>
<body>

<header id="header">
    <div id="header-title">CHEMICAL SOLUTIONS</div>
    <small id="header-sub">–Æ“õ–æ—Ä–∏ —Å–∏—Ñ–∞—Ç –≤–∞ —Å–∞–º–∞—Ä–∞–¥–æ—Ä–ª–∏–∫</small>
</header>

<div id="app"></div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// –†–∞–Ω–≥–ª–∞—Ä —Ö–∞—Ä–∏—Ç–∞—Å–∏
const COLORS = {
    main: "#00796b",
    herbicides: "#2e7d32",
    insecticides: "#800020",
    fungicides: "#0077be",
    regulators: "#ff4500",
    defoliants: "#8e44ad"
};

const DATA = {
    herbicides: { title: "–ì–ï–†–ë–ò–¶–ò–î–õ–ê–†", path: "herbicides", items: [
        { id: "akara_max", name: "GRANS MAX¬Æ", text: "“í–∞–ª–ª–∞ –º–∞–π–¥–æ–Ω–ª–∞—Ä–∏–¥–∞–≥–∏ –±–∏—Ä –≤–∞ –∫—û–ø –π–∏–ª–ª–∏–∫ –∏–∫–∫–∏ –ø–∞–ª–ª–∞–ª–∏ –±–µ–≥–æ–Ω–∞ —û—Ç–ª–∞—Ä–≥–∞ “õ–∞—Ä—à–∏ –≥–µ—Ä–±–∏—Ü–∏–¥ [cite: 48].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Tribenuron metil + Florasulam[cite: 48]." },
        { id: "indazil_chem", name: "INDAZIL CHEM¬Æ", text: "–ú–µ–≤–∞–ª–∏ –±–æ“ì–ª–∞—Ä–¥–∞–≥–∏ –±–æ—à–æ“õ–ª–∏ –≤–∞ –∏–∫–∫–∏ –ø–∞–ª–ª–∞–ª–∏ —û—Ç–ª–∞—Ä–≥–∞ “õ–∞—Ä—à–∏ [cite: 49].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Indaziflam[cite: 49]." }
    ]},
    insecticides: { title: "–ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†", path: "insecticides", items: [
        { id: "akara_max_ins", name: "AKARA MAX¬Æ", text: "–ó–∞—Ä–∞—Ä–ª–∏ –∫–∞–Ω–∞–ª–∞—Ä–≥–∞ “õ–∞—Ä—à–∏ –∏—Ö—Ç–∏—Å–æ—Å–ª–∞—à–≥–∞–Ω –∞–∫–∞—Ä–∏—Ü–∏–¥ [cite: 65].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Propargit + Geksitiazoks[cite: 65]." },
        { id: "komfidor", name: "KOMFIDOR PROFI¬Æ", text: "–ó–∞—Ä–∞—Ä–ª–∏ “≥–∞—à–∞—Ä–æ—Ç–ª–∞—Ä–≥–∞ “õ–∞—Ä—à–∏ —Å–∏—Å—Ç–µ–º–∞–ª–∏ –∏–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥ [cite: 66].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Imidacloprid[cite: 66]." }
    ]},
    fungicides: { title: "–§–£–ù–ì–ò–¶–ò–î–õ–ê–†", path: "fungicides", items: [
        { id: "fosetil", name: "FOSETIL CHEM¬Æ", text: "–ë–∞–∫—Ç–µ—Ä–∏–∞–ª –∫—É–π–∏—à –∫–∞—Å–∞–ª–ª–∏–∫–ª–∞—Ä–∏–≥–∞ “õ–∞—Ä—à–∏ —é“õ–æ—Ä–∏ —Å–∞–º–∞—Ä–∞–ª–∏ [cite: 86].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Fosetyl aluminium[cite: 86]." }
    ]},
    regulators: { title: "–†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†", path: "regulators", items: [
        { id: "benefit", name: "BENEFIT PZ¬Æ", text: "–ú–µ–≤–∞–ª–∞—Ä “≥–æ—Å–∏–ª–∏–Ω–∏ –π–∏—Ä–∏–∫–ª–∞—à—Ç–∏—Ä–∞–¥–∏ –≤–∞ –±–∏—Ä —Ö–∏–ª –µ—Ç–∏–ª–∏—à–∏–Ω–∏ —Ç–∞—ä–º–∏–Ω–ª–∞–π–¥–∏ [cite: 81].\n\n¬∑ –¢–∞—Ä–∫–∏–±–∏: –ù—É–∫–ª–µ–æ—Ç–∏–¥–ª–∞—Ä, –≤–∏—Ç–∞–º–∏–Ω–ª–∞—Ä, –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–∞–ª–∞—Ä[cite: 81, 82]." }
    ]},
    defoliants: { title: "–î–ï–§–û–õ–ò–ê–ù–¢", path: "defoliants", items: [
        { id: "udropp", name: "UDROPP¬Æ", text: "“í—û–∑–∞ –±–∞—Ä–≥–ª–∞—Ä–Ω–∏ —Ç—û–∫–∏—à –≤–∞ “≥–æ—Å–∏–ª–Ω–∏ —Ç–µ–∑ –µ—Ç–∏–ª–∏—à–∏ —É—á—É–Ω [cite: 64].\n\n¬∑ –¢–∞—ä—Å–∏—Ä —ç—Ç—É–≤—á–∏ –º–æ–¥–¥–∞—Å–∏: Thidiazuron + Diuron[cite: 64]." }
    ]}
};

const CONTACTS = [
    { region: "–ê–Ω–¥–∏–∂–æ–Ω, –ù–∞–º–∞–Ω–≥–∞–Ω, –§–∞—Ä“ì–æ–Ω–∞", name: "–£—Å–≤–∞–ª–∏–µ–≤ –û–π–±–µ–∫", tel: "+998773017030" }
];

function setAppColor(color) {
    document.documentElement.style.setProperty('--current-color', color);
    tg.setHeaderColor(color);
}

function showHome() {
    setAppColor(COLORS.main);
    let html = `
        <div class="main-menu">
            <div class="cat-btn bg-her" onclick="showList('herbicides')">üåø –ì–ï–†–ë–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-ins" onclick="showList('insecticides')">üêú –ò–ù–°–ï–ö–¢–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-fun" onclick="showList('fungicides')">üçÑ –§–£–ù–ì–ò–¶–ò–î–õ–ê–†</div>
            <div class="cat-btn bg-reg" onclick="showList('regulators')">üß™ –†–ï–ì–£–õ–Ø–¢–û–†–õ–ê–†</div>
            <div class="cat-btn bg-def" onclick="showList('defoliants')" style="grid-column: span 2;">üçÇ –î–ï–§–û–õ–ò–ê–ù–¢–õ–ê–†</div>
        </div>
        <div style="padding:15px; font-weight:bold;">üìû –ê–õ–û“ö–ê:</div>
    `;
    CONTACTS.forEach(c => {
        html += `<div class="contact-card">
            <span class="region-name">${c.region}</span>
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <span>${c.name}</span>
                <a href="tel:${c.tel}" class="call-btn">“ö—û–Ω“ì–∏—Ä–æ“õ</a>
            </div>
        </div>`;
    });
    document.getElementById('app').innerHTML = html;
}

function showList(key) {
    const cat = DATA[key];
    setAppColor(COLORS[key]); // –†–∞–Ω–≥ —û–∑–≥–∞—Ä–∞–¥–∏!
    let html = `<div class="inner-page"><div class="prod-grid">`;
    cat.items.forEach(item => {
        html += `<div class="item-card" onclick="showDetail('${key}', '${item.id}')">${item.name}</div>`;
    });
    html += `</div><div class="nav-btn" onclick="showHome()">‚¨Ö –û–†“ö–ê–ì–ê</div></div>`;
    document.getElementById('app').innerHTML = html;
}

function showDetail(key, id) {
    const item = DATA[key].items.find(i => i.id === id);
    const baseUrl = window.location.href.split('index.html')[0];
    const pestUrl = `${baseUrl}images/${DATA[key].path}/${id}/pest.jpg`;

    let html = `
        <div class="details">
            <div class="card">
                <h3>üì¶ –ü–†–ï–ü–ê–†–ê–¢ –ö–é–†–ò–ù–ò–®–ò</h3>
                <img src="images/${DATA[key].path}/${id}/product.png" class="product-img" onerror="this.src='images/no-image.png'">
            </div>
            <div class="info-text">${item.text}</div>
            <div class="card" onclick="tg.openPhoto('${pestUrl}')">
                <h3>üîç –ë–ê–¢–ê–§–°–ò–õ (–ó–£–ú –£–ß–£–ù –ë–û–°–ò–ù–ì)</h3>
                <img src="images/${DATA[key].path}/${id}/pest.jpg" onerror="this.src='images/no-image.png'">
            </div>
            <div class="nav-btn" onclick="showList('${key}')">‚¨Ö –†–é–ô–•–ê–¢–ì–ê “ö–ê–ô–¢–ò–®</div>
        </div>
    `;
    document.getElementById('app').innerHTML = html;
}

showHome();
</script>
</body>
</html>
